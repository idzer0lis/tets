<%- contentFor('body') %>
<div class="m-grid__item m-grid__item--fluid m-wrapper">
    <!-- BEGIN: Subheader -->
    <div class="m-subheader ">
        <div class="d-flex align-items-center">
            <div class="mr-auto">
                <h3 class="m-subheader__title ">
                    Users List
                </h3>
            </div>
            <div>
                        <span class="m-subheader__daterange" id="m_dashboard_daterangepicker">
                            <span class="m-subheader__daterange-label">
                                <span class="m-subheader__daterange-title"></span>
                                <span class="m-subheader__daterange-date m--font-brand"></span>
                            </span>
                        </span>
            </div>
        </div>
    </div>
    <!-- END: Subheader -->
    <div class="m-content">
        <div class="m-portlet m-portlet--mobile">
            <div class="m-portlet__body">
                <!--begin: Search Form -->
                <div class="m-form m-form--label-align-right m--margin-top-20 m--margin-bottom-30">
                    <div class="row align-items-center">
                        <div class="col-xl-8 order-2 order-xl-1">
                            <div class="form-group m-form__group row align-items-center">
                                <div class="col-md-3">
                                    <div class="m-form__section m-form__section--first">
                                        <div class="form-group m-form__group">
                                            <label for="m_form_type">
                                                Type
                                            </label>
                                            <select class="form-control m-bootstrap-select" id="m_form_type">
                                                <option value="">
                                                    All
                                                </option>
                                                <% locals.roles.forEach((role) => { %>
                                                <option value="<%= role.role_code %>"><%= role.description %></option>
                                                <% }) %>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="m-form__section m-form__section--first">
                                        <div class="form-group m-form__group">
                                            <div class="m-input-icon m-input-icon--left m--margin-top-30">
                                                <input type="text" class="form-control m-input" placeholder="Search..." name="free_text_search"
                                                       id="generalSearchInput">
                                                <span class="m-input-icon__icon m-input-icon__icon--left">
															<span>
																<i class="la la-search"></i>
															</span>
														</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <% if (user.permissions.indexOf('CREATE_BACKOFFICE_USER') !== -1) { %>
                        <div class="col-xl-4 order-1 order-xl-2 m--align-right">
                            <a href="/users/create"
                               class="btn btn-primary m-btn m-btn--custom m-btn--icon m-btn--air m-btn--pill">
												<span>
													<i class="la la-plus-circle"></i>
													<span>
														Create User
													</span>
												</span>
                            </a>
                            <div class="m-separator m-separator--dashed d-xl-none"></div>
                        </div>
                        <% } %>
                    </div>
                </div>
                <!--end: Search Form -->
                <!--begin: Datatable -->
                <div class="m_datatable" id="users_datatable"></div>
                <!--end: Datatable -->
            </div>
        </div>
    </div>

</div>

<%- contentFor('scripts') %>
<script type="text/javascript" src="/scripts/datatables/users.js"></script>
<script type="text/javascript">window.csrfToken = <%- JSON.stringify(locals.csrfToken) %></script>